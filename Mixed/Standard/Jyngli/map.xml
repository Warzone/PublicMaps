<?xml version="1.0"?>
<map proto="1.4.0">
<name>Jyngli</name>
<version>2.2.1</version>
<objective>Destroy the opposing team's monuments and core!</objective>
<authors>
    <author uuid="c63bd04f-ad1e-455c-b194-7b1085c31aa3"/> <!-- Dickson_ -->
    <author uuid="10c1b730-49b9-4f75-9212-91facc371477"/> <!-- Qixit -->
</authors>
<teams>
    <team id="cyan" color="dark aqua" max="30" max-overfill="35">Cyan</team>
    <team id="orange" color="gold" max="30" max-overfill="35">Orange</team>
</teams>
<gamemode>dtm</gamemode>
<gamemode>dtc</gamemode>
<kits>    
    <kit id="spawn" force="true">
        <potion duration="10" amplifier="10">heal</potion>
        <potion duration="20" amplifier="1">speed</potion>
        <item slot="27" name="`lUse me in from your hand slot when you Icarus!" lore="This sword allows you to shield, unlike the Axe." unbreakable="true" enchantment="durability">iron sword</item>
        <item slot="0" unbreakable="true" enchantment="dig speed:3">diamond axe</item>
        <item slot="1" enchantment="arrow infinite:1" unbreakable="true">bow</item>
        <item slot="28" amount="1">arrow</item>
        <item slot="2" unbreakable="true">diamond pickaxe</item>
        <item slot="3" unbreakable="true" enchantment="dig speed:1">shears</item>
        <item slot="5" amount="32">redstone block</item>
        <item slot="6" amount="64">tnt</item>
        <item slot="33" amount="64">tnt</item>
        <item slot="24" amount="64">tnt</item>
        <item slot="15" amount="64">tnt</item>
        <item slot="16" amount="64">tnt</item>
        <item slot="17" amount="64">tnt</item>
        <item slot="7">water bucket</item>
        <item slot="34">water bucket</item>
        <item slot="25">water bucket</item>
        <item slot="8" amount="3">golden apple</item>
        <item slot="9" amount="32">fence</item>
        <item slot="10" amount="64">ladder</item>
        <item slot="11" amount="16">trap door</item>
        <item slot="18" amount="32">stone button</item>
        <item slot="19" amount="64">redstone</item>
        <item slot="20" amount="16">stone plate</item>
        <item slot="12" amount="16">lever</item>
        <item slot="21" amount="8">diode</item>
        <item slot="29" amount="64">step</item>
        <item slot="30" amount="64" damge="3">wood</item>
        <boots unbreakable="true" enchantment="protection explosions:4;protection fall:5">iron boots</boots>
        <helmet enchantment="protection environmental:2" unbreakable="true">iron helmet</helmet>
    </kit>
    <kit id="cyan-kit" parents="spawn">
        <item slot="4" amount="64" damage="9">stained clay</item>
        <item slot="31" amount="64" damage="9">stained clay</item>
        <item slot="22" amount="64" damage="9">stained clay</item>
        <item slot="13" amount="64" damage="9">stained clay</item>
        <chestplate color="4C7F99" unbreakable="true" enchantment="protection explosions:2;protection projectile">leather chestplate</chestplate>
        <leggings color="4C7F99" unbreakable="true">leather leggings</leggings>  
    </kit>
    <kit id="orange-kit" parents="spawn">
        <item slot="4" amount="64" damage="1">stained clay</item>
        <item slot="31" amount="64" damage="1">stained clay</item>
        <item slot="22" amount="64" damage="1">stained clay</item>
        <item slot="13" amount="64" damage="1">stained clay</item>
        <chestplate color="D87F33" unbreakable="true" enchantment="protection explosions:2;protection projectile">leather chestplate</chestplate>
        <leggings color="D87F33" unbreakable="true">leather leggings</leggings>   
    </kit>
    <kit id="obs-kit">
        <helmet>leaves</helmet>
    </kit>
    <kit id="spawn-protection-c" force="true" filter="only-cyan">
        <potion amplifier="100" duration="oo">damage resistance</potion>
        <knockback-reduction>1</knockback-reduction>
    </kit>
    <kit id="spawn-protection-o" force="true" filter="only-orange">
        <potion amplifier="100" duration="oo">damage resistance</potion>
        <knockback-reduction>1</knockback-reduction>
    </kit>
</kits>
<toolrepair>
    <tool>iron sword</tool>
    <tool>bow</tool>
    <tool>diamond axe</tool>
    <tool>diamond pickaxe</tool>
    <tool>shears</tool>
    <tool>iron boots</tool>
    <tool>iron helmet</tool>
    <tool>leather leggings</tool>
    <tool>leather chestplate</tool>
</toolrepair>
<killreward>
    <item amount="2">golden apple</item>
    <item amount="10" damage="3">log</item>
    <item amount="32">tnt</item>
    <potion duration="3" amplifier="1">speed</potion>
    <potion duration="0.3" amplifier="1">night vision</potion>
</killreward>
<crafting>
    <disable>dispenser</disable>
</crafting>
<hunger>
    <depletion>off</depletion>
</hunger>
<gamerules>
    <doDaylightCycle>false</doDaylightCycle>
    <doFireTick>false</doFireTick>
</gamerules>
<disabledamage>
    <damage ally="true" self="false" enemy="false" other="true">block explosion</damage>
</disabledamage>
<respawn delay="3s" blackout="false" spectate="false"/>
<itemremove>
    <item>sapling</item>
    <item>obsidian</item>
    <item>prismarine shard</item>
    <item>prismarine crystals</item>
    <item>flint</item>
    <item>cobble wall</item>
    <item>red rose</item>
    <item>seeds</item>
    <item>fence</item>
    <item>bow</item>
    <item>diamond pickaxe</item>
    <item>cooked beef</item>
    <item>glass</item>
    <item>stone axe</item>
    <item>leather boots</item>
    <item>leather chestplate</item>
    <item>diamond boots</item>
    <item>leather leggings</item>
    <item>leather helmet</item>
    <item>cobblestone</item>
    <item>stone</item>
    <item>red rose:5</item>
    <item>red rose:1</item>
    <item>gravel</item>
    <item>dirt</item>
    <item>grass</item>
    <item>sign</item>
    <item>log:3</item>
    <item>fence</item>
    <item>ladder</item>
    <item>trap door</item>
    <item>stone button</item>
    <item>redstone</item>
    <item>stone plate</item>
    <item>lever</item>
    <item>diode</item>
    <item>dispenser</item>
    <item>tnt</item>
    <item>water bucket</item>
    <item>redstone block</item>
    <item>arrow</item>
    <item>stained clay</item>
    <item>gold block</item>
    <item>emerald block</item>
    <item>iron sword</item>
    <item>step</item>
</itemremove>
<spawns>
    <spawn team="orange" kit="orange-kit">
        <regions>
            <block yaw="-130" id="orange-spawn">106.5,64.5,-91.5</block>
        </regions>
    </spawn>
    <spawn team="cyan" kit="cyan-kit">
        <regions>
            <block yaw="-45" id="cyan-spawn">106.5,64.5,140.5</block>
        </regions>
    </spawn>
    <default kit="obs-kit">
        <regions yaw="-90">
            <block>-15.5,116,24.5</block>
        </regions>
    </default>
</spawns>
<proximity-alarms>
    <proximity-alarm message="Enemy detected at Tree Canopy Core!" flare-radius="4">
        <region>
            <cylinder base="93.5,95,-43.5" radius="10" height="20"/>
        </region>
        <detect>
            <team>orange</team>
        </detect>
    </proximity-alarm>
    <proximity-alarm message="Enemy detected at Tree Canopy Core!" flare-radius="4">
        <region>
            <cylinder base="93.5,95,92.5" radius="10" height="20"/>
        </region>
        <detect>
            <team>cyan</team>
        </detect>
    </proximity-alarm>
</proximity-alarms>
<broadcasts>
    <tip after="30s" every="5m">Grass, stone and tree wood cannot be destroyed by tnt!</tip>
    <tip after="2m" every="7m">Use the portals at spawn to defend your monuments!</tip>
</broadcasts>
<filters>
    <team id="only-orange">orange</team>
    <team id="only-cyan">cyan</team>
    <not id="no-void">
        <void/>
    </not>
    <deny id="normal-blocks"> 
        <!--  deny blowing up of logs, grass, gravel and stone  -->
        <all>
            <cause>explosion</cause>
            <any>
                <material>stone</material>
                <material>cobblestone</material>
                <material>log</material>
                <material>dirt</material>
                <material>grass</material>
                <material>gravel</material>
                <material>iron block</material>
                <material>sign post</material>
                <material>wall sign</material>
            </any>
        </all>
    </deny>
</filters>
<maxbuildheight>130</maxbuildheight>
<regions>
    <union id="cyan-team-spawn">
        <cylinder id="c-main-spawn" base="108.5,53,142.5" radius="7" height="16"/>
        <cylinder id="c-front-monument-portal" base="120.5,81,128.5" radius="3" height="4"/>
        <cylinder id="c-back-monument-portal" base="82.5,92,159.5" radius="2" height="4"/>
    </union>
    <union id="orange-team-spawn">
        <cylinder id="o-main-spawn" base="108.5,53,-93.5" radius="7" height="16"/>
        <cylinder id="o-front-monument-portal" base="120.5,81,-79.5" radius="3" height="4"/>
        <cylinder id="o-back-monument-portal" base="82.5,92,-110.5" radius="2" height="4"/>
    </union>
    <apply lend-kit="spawn-protection-o" block="never" region="orange-team-spawn" message="`l`fYou may not modify blocks in `l`6Orange's `r`l`7Spawns `r`l`for `r`l`dPortal Areas!"/>
    <apply lend-kit="spawn-protection-c" block="never" region="cyan-team-spawn" message="`l`fYou may not modify blocks in `l`3Cyan's `r`l`7Spawns `r`l`for `r`l`dPortal Areas!"/>
    <apply block="normal-blocks">
        <everywhere/>
    </apply>
    <apply block="no-void" message="You are not allowed to modify the void area!">
        <region>
            <rectangle id="map" min="185,-158" max="21,211"/>
        </region>
    </apply>
    <apply enter="only-cyan" region="cyan-team-spawn" message="`l`fYou cannot enter `l`3Cyan Spawn!"/>
    <apply enter="only-orange" region="orange-team-spawn" message="`l`fYou cannot enter `l`6Orange Spawn!"/>
    <apply enter="never" message="`l`fYou cannot go near the `l`9Observer Spawn!">
        <region>
            <rectangle min="2,57" max="-54,-15"/>
        </region>
    </apply>
</regions>
<destroyables name="Treeline Monuments" materials="emerald block;gold block" show-progress="true" sparks="true" mode-changes="false">
    <destroyable id="orange-front-monument" name="Front Monument" owner="orange">
        <region>
            <cuboid min="161,88,-63" max="152,72,-54"/>
        </region>
    </destroyable>
    <destroyable id="orange-back-monument" name="Back Monument" owner="orange">
        <region>
            <cuboid min="97,76,-117" max="88,58,-126"/>
        </region>
    </destroyable>
    <destroyable id="cyan-front-monument" name="Front Monument" owner="cyan">
        <region>
            <cuboid min="161,88,103" max="152,72,112"/>
        </region>
    </destroyable>
    <destroyable id="cyan-back-monument" name="Back Monument" owner="cyan">
        <region>
            <cuboid min="97,76,166" max="88,58,175"/>
        </region>
    </destroyable>
</destroyables>
<modes>
    <mode after="30m" material="glass"/>
</modes>
<cores material="obsidian" leak="1" mode-changes="true">
    <core team="orange" name="Tree Canopy Core">
        <region>
            <cuboid min="97,109,-40" max="90,99,-47"/>
        </region>
    </core>
    <core team="cyan" name="Tree Canopy Core">
        <region>
            <cuboid min="90,109,89" max="97,99,96"/>
        </region>
    </core>
</cores>
<flags>
    <flag name=" " required="false" show="false" id="o-flag-1" owner="orange" color="orange">
        <post>
            <block>93.5,3,-43.5</block>
        </post>
    </flag>
    <flag name=" " required="false" show="false" id="o-flag-2" owner="orange" color="orange">
        <post>
            <block>156.5,6,-58.5</block>
        </post>
    </flag>
    <flag name=" " required="false" show="false" id="o-flag-3" owner="orange" color="orange">
        <post>
            <block>92.5,28,-121.5</block>
        </post>
    </flag>
    <flag name=" " required="false" show="false" id="c-flag-1" owner="cyan" color="cyan">
        <post>
            <block>93.5,3,92.5</block>
        </post>
    </flag>
    <flag name=" " required="false" show="false" id="c-flag-2" owner="cyan" color="cyan">
        <post>
            <block>156.5,6,107.5</block>
        </post>
    </flag>
    <flag name=" " required="false" show="false" id="c-flag-3" owner="cyan" color="cyan">
        <post>
            <block>92.5,28,170.5</block>
        </post>
    </flag>
</flags>


<portals>
    <!-- CYAN bottom -->
    <portal destination="cyan-spawn">
        <region>
            <cuboid min="110,55,147" max="109,57,148"/>
        </region>
    </portal>

    <!-- front monument spawn -->
    <portal destination="cyan-spawn" filter="only-cyan">
        <region>
            <cuboid min="120,81,129" max="119,83,128"/>
        </region>
    </portal>
    <!-- front monument -->
    <portal x="@120.5" y="@82" z="@128.5" yaw="@-90">
        <region>
            <cuboid min="106,63,138" max="107,65,137"/>
        </region>
    </portal>

    <!-- back monument -->
    <portal x="@82.5" y="@93" z="@159.5" yaw="@-45">
        <region>
            <cuboid min="104,63,141" max="103,65,140"/>
        </region>
    </portal>

    <!-- ORANGE bottom -->
    <portal destination="orange-spawn">
        <region>
            <cuboid min="110,55,-98" max="109,57,-99"/>
        </region>
    </portal>

    <!-- front monument spawn -->
    <portal destination="orange-spawn">
        <region>
            <cuboid min="120,81,-80" max="119,83,-79"/>
        </region>
    </portal>
    <!-- front monument -->
    <portal x="@120.5" y="@82" z="@-79.5" yaw="@-90">
        <region>
            <cuboid min="106,63,-89" max="107,65,-88"/>
        </region>
    </portal>

    <!-- back monument -->
    <portal x="@82.5" y="@93" z="@-110.5" yaw="@-135">
        <region>
            <cuboid min="104,63,-92" max="103,65,-91"/>
        </region>
    </portal>
</portals>
</map>
